var Ae=Object.defineProperty;var ke=(r,t,s)=>t in r?Ae(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var X=(r,t,s)=>ke(r,typeof t!="symbol"?t+"":t,s);import{u as $,j as e,a as U,b as E,Q as Fe,c as Ie}from"./query-3C2qzm7n.js";import{c as Ee,L as Y,r as k,B as Pe,d as He,e as V,a as Te}from"./react-vendor-B40RXkHJ.js";import{t as Le,v as m,A as $e,w as ze,T as a,B as C,D as Me,S as Re,x as qe,C as q,y as L,z as _,E as We,F as R,G as ge,H as G,J as Z,K as I,s as J,L as b,M as A,O as ee,Q as Be,R as Ue,U as Oe,V as Ke,W as ye,X as pe,Y as fe,Z as je,$ as ve,a0 as N,a1 as se,a2 as ie,a3 as K,a4 as B,a5 as le,a6 as ce,a7 as de,a8 as te,a9 as Ne,aa as ne,ab as Qe,ac as Ge,ad as Ze,ae as re,af as v,ag as _e,ah as Je,I as Xe,ai as ue,aj as Ye,ak as Ve,al as et}from"./mui-core-UlHxo2RG.js";import{f as be}from"./date-utils-CBpsKyOP.js";import{L as tt}from"./mui-charts-BqyAjAno.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(o){if(o.ep)return;o.ep=!0;const d=s(o);fetch(o.href,d)}})();var ae={},he=Ee;ae.createRoot=he.createRoot,ae.hydrateRoot=he.hydrateRoot;const rt=Le({palette:{mode:"dark",primary:{main:"#4FC3F7"},secondary:{main:"#FFB74D"},background:{default:"#121212",paper:"#1e1e1e"},success:{main:"#8BC34A"},warning:{main:"#FFB74D"},error:{main:"#EF5350"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'},components:{MuiButton:{styleOverrides:{root:{textTransform:"none"}}}}});class st{constructor(){X(this,"baseUrl","")}async getAuthStatus(){return this.get("/auth/daikin/status")}async startAuth(){return this.get("/auth/daikin/start")}async refreshAuth(){return this.post("/auth/daikin/refresh")}async revokeAuth(){return this.post("/auth/daikin/revoke")}async getPriceTimeseries(t){const s=t?`?source=${t}`:"";return this.get(`/api/prices/timeseries${s}`)}async getZone(){return this.get("/api/prices/zone")}async setZone(t){return this.post("/api/prices/zone",{zone:t})}async getSchedulePreview(){return this.get("/api/schedule/preview")}async getScheduleHistory(){return this.get("/api/user/schedule-history")}async getUserSettings(){return this.get("/api/user/settings")}async saveUserSettings(t){return this.post("/api/user/settings",t)}async getDaikinSites(){return this.get("/api/daikin/sites")}async getGatewayDevices(){return this.get("/api/daikin/gateway?debug=true")}async getCurrentSchedule(t){const s=t?`?embeddedId=${t}`:"";return this.get(`/api/daikin/gateway/schedule${s}`)}async applySchedule(t){return this.post("/api/daikin/gateway/schedule/put",t)}async getFlexibleState(){return this.get("/api/user/flexible-state")}async scheduleManualComfort(t){return this.post("/api/schedule/comfort",{comfortTime:t})}async getStatus(){return this.get("/api/status")}async getAdminStatus(){return this.get("/api/admin/status")}async adminLogin(t){const s=await fetch(this.baseUrl+"/api/admin/login",{method:"POST",headers:{"X-Admin-Password":t},credentials:"same-origin"});if(!s.ok){const l=await s.text();throw new Error(this.extractErrorMessage(l)||`HTTP ${s.status}`)}return s.json()}async getAdminUsers(){return this.get("/api/admin/users")}async grantAdmin(t){return this.post(`/api/admin/users/${encodeURIComponent(t)}/grant`)}async revokeAdmin(t){return this.del(`/api/admin/users/${encodeURIComponent(t)}/grant`)}async grantHangfire(t){return this.post(`/api/admin/users/${encodeURIComponent(t)}/hangfire`)}async revokeHangfire(t){return this.del(`/api/admin/users/${encodeURIComponent(t)}/hangfire`)}async deleteUser(t){return this.del(`/api/admin/users/${encodeURIComponent(t)}`)}async get(t){const s=await fetch(this.baseUrl+t,{credentials:"same-origin"});if(!s.ok){const l=await s.text();throw new Error(this.extractErrorMessage(l)||`HTTP ${s.status}: ${t}`)}return s.json()}async post(t,s){const l=await fetch(this.baseUrl+t,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:s?JSON.stringify(s):void 0});if(!l.ok){const o=await l.text();throw new Error(this.extractErrorMessage(o)||`HTTP ${l.status}: ${t}`)}return l.json()}async del(t){const s=await fetch(this.baseUrl+t,{method:"DELETE",credentials:"same-origin"});if(!s.ok){const l=await s.text();throw new Error(this.extractErrorMessage(l)||`HTTP ${s.status}: ${t}`)}return s.json()}extractErrorMessage(t){if(!t)return"";try{const s=JSON.parse(t);if(typeof s.error=="string")return s.error}catch{}return t}}const p=new st;function nt({children:r}){var l;const s=((l=$({queryKey:["admin-status"],queryFn:()=>p.getAdminStatus(),staleTime:3e5}).data)==null?void 0:l.isAdmin)??!1;return e.jsxs(m,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[e.jsx($e,{position:"static",children:e.jsxs(ze,{children:[e.jsx(a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Prisstyrning"}),e.jsx(C,{color:"inherit",component:Y,to:"/",startIcon:e.jsx(Me,{}),children:"Dashboard"}),e.jsx(C,{color:"inherit",component:Y,to:"/settings",startIcon:e.jsx(Re,{}),children:"Settings"}),s&&e.jsx(C,{color:"inherit",component:Y,to:"/admin",startIcon:e.jsx(qe,{}),children:"Admin"})]})}),e.jsx(q,{component:"main",sx:{flex:1,py:4},children:r})]})}function oe(){const r=U(),{data:t,isLoading:s,error:l}=$({queryKey:["auth","status"],queryFn:()=>p.getAuthStatus(),refetchInterval:60*1e3,retry:1}),o=E({mutationFn:()=>p.refreshAuth(),onSuccess:()=>{r.invalidateQueries({queryKey:["auth"]})}}),d=E({mutationFn:()=>p.revokeAuth(),onSuccess:()=>{r.invalidateQueries({queryKey:["auth"]})}}),u=async()=>{const{url:g}=await p.startAuth();window.location.href=g};return{isAuthorized:(t==null?void 0:t.authorized)??!1,expiresAt:(t==null?void 0:t.expiresAtUtc)??null,isLoading:s,error:l,startAuth:u,refresh:o.mutateAsync,revoke:d.mutateAsync,isRefreshing:o.isPending,isRevoking:d.isPending}}function at(){const{isAuthorized:r,expiresAt:t,isLoading:s}=oe();if(s)return e.jsx(L,{size:24});if(!r)return e.jsx(_,{icon:e.jsx(We,{}),label:"Not Authorized",color:"error",size:"small"});const l=t?new Date(t):null,o=l?`Expires: ${be(l,"PPpp")}`:"Authorized";return e.jsx(R,{title:o,children:e.jsx(_,{icon:e.jsx(ge,{}),label:"Authorized",color:"success",size:"small"})})}function it(r="latest"){return $({queryKey:["prices","timeseries",r],queryFn:()=>p.getPriceTimeseries(r),refetchInterval:5*60*1e3,staleTime:5*60*1e3})}function ot(){const{data:r,isLoading:t,error:s}=it();if(t)return e.jsx(G,{children:e.jsx(Z,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(L,{})})});if(s)return e.jsx(G,{children:e.jsx(Z,{children:e.jsxs(I,{severity:"error",children:["Failed to load price data: ",s.message]})})});if(!r||r.items.length===0)return e.jsx(G,{children:e.jsx(Z,{children:e.jsx(I,{severity:"info",children:"No price data available"})})});const l=[...r.items].sort((g,j)=>new Date(g.start).getTime()-new Date(j.start).getTime()),o=l.map(g=>new Date(g.start).getTime()),d=l.map(g=>g.day==="today"?g.value:null),u=l.map(g=>g.day==="tomorrow"?g.value:null);return e.jsx(G,{children:e.jsxs(Z,{children:[e.jsx(a,{variant:"h6",gutterBottom:!0,children:"Electricity Prices (öre/kWh)"}),e.jsx(tt,{xAxis:[{data:o,scaleType:"time",valueFormatter:g=>new Date(g).toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"})}],series:[{label:"Today",data:d,color:"#4FC3F7",showMark:!1,curve:"monotoneX",connectNulls:!1},{label:"Tomorrow",data:u,color:"#FFB74D",showMark:!1,curve:"monotoneX",connectNulls:!1}],height:300,margin:{top:20,right:20,bottom:40,left:60}}),e.jsxs(a,{variant:"caption",color:"text.secondary",sx:{mt:2},children:["Last updated: ",r.updated?new Date(r.updated).toLocaleString("sv-SE"):"N/A"]})]})})}const lt=J(m)(({theme:r})=>({display:"grid",gridTemplateColumns:"auto repeat(24, 1fr)",gap:r.spacing(.25),alignItems:"center"})),ct=J(m)(({theme:r})=>({textAlign:"center",fontSize:"0.75rem",color:r.palette.text.secondary,padding:r.spacing(.5)})),xe=J(m)(({theme:r})=>({fontSize:"0.875rem",fontWeight:500,padding:r.spacing(.5),textAlign:"right",paddingRight:r.spacing(1)})),me=J(m,{shouldForwardProp:r=>r!=="state"&&r!=="isCurrentHour"})(({theme:r,state:t,isCurrentHour:s})=>({height:32,border:`1px solid ${r.palette.divider}`,borderRadius:r.shape.borderRadius,position:"relative",backgroundColor:t==="comfort"?r.palette.success.main:t==="eco"?r.palette.info.main:t==="turn_off"?r.palette.error.main:r.palette.action.disabledBackground,outline:s?`2px solid ${r.palette.primary.main}`:"none",boxShadow:s?`0 0 6px ${r.palette.primary.main}`:"none",transition:"all 0.2s","&:hover":{transform:"scale(1.05)"}}));function Se({schedulePayload:r}){if(!r)return e.jsx(b,{sx:{p:2},children:e.jsx(a,{color:"text.secondary",children:"No schedule available"})});const t=new Date,s=t.getHours(),l=t.getDay(),o=Object.keys(r)[0],d=r[o],u=(d==null?void 0:d.actions)||{},g=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],j=g[l],f=g[(l+1)%7],P=u[j]||{},H=Array.from({length:24},(S,c)=>{var D;const T=`${c.toString().padStart(2,"0")}:00:00`;return(D=P[T])==null?void 0:D.domesticHotWaterTemperature}),i=u[f]||{},y=Array.from({length:24},(S,c)=>{var D;const T=`${c.toString().padStart(2,"0")}:00:00`;return(D=i[T])==null?void 0:D.domesticHotWaterTemperature});return e.jsx(b,{sx:{p:2},children:e.jsxs(lt,{children:[e.jsx(m,{})," ",Array.from({length:24},(S,c)=>e.jsx(ct,{children:c},c)),e.jsx(xe,{children:"Today"}),H.map((S,c)=>e.jsx(me,{state:S,isCurrentHour:c===s},`today-${c}`)),e.jsx(xe,{children:"Tomorrow"}),y.map((S,c)=>e.jsx(me,{state:S},`tomorrow-${c}`))]})})}function dt(){return e.jsxs(A,{direction:"row",spacing:3,sx:{mt:2},children:[e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ee,{sx:{color:"success.main",fontSize:16}}),e.jsx(a,{variant:"body2",children:"Comfort (Heating)"})]}),e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ee,{sx:{color:"info.main",fontSize:16}}),e.jsx(a,{variant:"body2",children:"Eco (Daily DHW)"})]}),e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ee,{sx:{color:"error.main",fontSize:16}}),e.jsx(a,{variant:"body2",children:"Turn Off (No Heating)"})]})]})}function ut(){return $({queryKey:["schedule","history"],queryFn:()=>p.getScheduleHistory(),staleTime:60*1e3})}function ht(){const{data:r,isLoading:t,error:s}=ut(),[l,o]=k.useState(!1),d=u=>(g,j)=>{o(j?u:!1)};return t?e.jsx(m,{sx:{display:"flex",justifyContent:"center",p:3},children:e.jsx(L,{})}):s?e.jsxs(I,{severity:"error",children:["Failed to load schedule history: ",s.message]}):!r||r.length===0?e.jsx(I,{severity:"info",children:"No schedule history found. Generate a schedule to see it here."}):e.jsx(m,{children:r.map((u,g)=>{const j=`history-${g}`,f=new Date(u.timestamp);return e.jsxs(Be,{expanded:l===j,onChange:d(j),sx:{mb:1},children:[e.jsx(Ue,{expandIcon:e.jsx(Oe,{}),children:e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[e.jsx(a,{children:be(f,"PPpp")}),e.jsx(_,{label:u.date,size:"small"})]})}),e.jsx(Ke,{children:e.jsx(Se,{schedulePayload:u.schedule})})]},j)})})}function xt({data:r,title:t}){return e.jsxs(b,{sx:{p:2,bgcolor:"background.default"},children:[t&&e.jsx(a,{variant:"subtitle2",gutterBottom:!0,children:t}),e.jsx(m,{component:"pre",sx:{fontFamily:"monospace",fontSize:"0.875rem",overflow:"auto",maxHeight:400,margin:0},children:JSON.stringify(r,null,2)})]})}function we({open:r,title:t,message:s,confirmText:l="Confirm",cancelText:o="Cancel",onConfirm:d,onCancel:u,isDestructive:g=!1}){return e.jsxs(ye,{open:r,onClose:u,children:[e.jsx(pe,{children:t}),e.jsx(fe,{children:e.jsx(je,{children:s})}),e.jsxs(ve,{children:[e.jsx(C,{onClick:u,children:o}),e.jsx(C,{onClick:d,variant:"contained",color:g?"error":"primary",autoFocus:!0,children:l})]})]})}function mt(){const r=U();return E({mutationFn:()=>p.getSchedulePreview(),onSuccess:()=>{r.invalidateQueries({queryKey:["schedule","history"]})}})}function gt(){const r=U();return E({mutationFn:t=>p.applySchedule(t),onSuccess:()=>{r.invalidateQueries({queryKey:["schedule","current"]})}})}function yt(){return E({mutationFn:r=>p.getCurrentSchedule(r)})}function pt(r=!0){const t=$({queryKey:["user","flexible-state"],queryFn:()=>p.getFlexibleState(),staleTime:3e4,enabled:r});return{state:t.data,isLoading:t.isLoading,error:t.error,refetch:t.refetch}}function Ce(){const r=U(),t=$({queryKey:["user","settings"],queryFn:()=>p.getUserSettings(),staleTime:60*1e3}),s=E({mutationFn:l=>p.saveUserSettings(l),onSuccess:()=>{r.invalidateQueries({queryKey:["user","settings"]}),r.invalidateQueries({queryKey:["schedule","preview"]})}});return{settings:t.data,isLoading:t.isLoading,error:t.error,updateSettings:s.mutateAsync,isUpdating:s.isPending}}function ft(){const r=U();return E({mutationFn:t=>p.scheduleManualComfort(t),onSuccess:()=>{r.invalidateQueries({queryKey:["schedule"]}),r.invalidateQueries({queryKey:["user","flexible-state"]})}})}function jt(){var M;const{isAuthorized:r,startAuth:t,refresh:s,isRefreshing:l}=oe(),o=mt(),[d,u]=k.useState({open:!1,message:"",severity:"info"}),[g,j]=k.useState(!1),[f,P]=k.useState({gateway:"",embedded:""}),H=gt(),i=yt(),{settings:y}=Ce(),S=(y==null?void 0:y.SchedulingMode)==="Flexible",{state:c}=pt(S),T=ft(),D=x=>{const F=De=>De.toString().padStart(2,"0");return`${x.getFullYear()}-${F(x.getMonth()+1)}-${F(x.getDate())}T${F(x.getHours())}:${F(x.getMinutes())}`},[z,O]=k.useState(()=>{const x=new Date;return x.setHours(x.getHours()+1,0,0,0),D(x)}),h=async()=>{if(z)try{const x=new Date(z),F=await T.mutateAsync(x.toISOString());u({open:!0,message:F.message,severity:F.applied?"success":"warning"})}catch(x){u({open:!0,message:`Failed to schedule comfort: ${x}`,severity:"error"})}},w=async()=>{try{await o.mutateAsync()}catch(x){console.error("Failed to generate schedule:",x)}},Q=async()=>{var x;if(!((x=o.data)!=null&&x.schedulePayload)){u({open:!0,message:"No schedule to apply. Generate a schedule first.",severity:"error"});return}j(!0)},n=async()=>{if(j(!1),!f.gateway||!f.embedded){u({open:!0,message:"Gateway Device ID and Embedded ID are required",severity:"error"});return}try{await H.mutateAsync({gatewayDeviceId:f.gateway,embeddedId:f.embedded,schedulePayload:o.data.schedulePayload}),u({open:!0,message:"Schedule applied successfully!",severity:"success"})}catch(x){u({open:!0,message:`Failed to apply schedule: ${x}`,severity:"error"})}},W=async()=>{try{await i.mutateAsync(f.embedded||void 0),u({open:!0,message:"Current schedule retrieved",severity:"success"})}catch(x){u({open:!0,message:`Failed to retrieve schedule: ${x}`,severity:"error"})}};return e.jsxs(A,{spacing:3,children:[e.jsxs(b,{sx:{p:3},children:[e.jsxs(A,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[e.jsx(a,{variant:"h5",children:"Daikin Authorization"}),e.jsx(at,{})]}),e.jsx(A,{direction:{xs:"column",sm:"row"},spacing:2,children:r?e.jsx(C,{variant:"outlined",onClick:()=>s(),disabled:l,children:l?"Refreshing...":"Refresh Token"}):e.jsx(C,{variant:"contained",onClick:t,children:"Start OAuth Flow"})})]}),e.jsx(ot,{}),e.jsxs(b,{sx:{p:3},children:[e.jsx(a,{variant:"h5",gutterBottom:!0,children:"Schedule Preview"}),!r&&e.jsx(I,{severity:"warning",sx:{mb:2},children:"Authorize with Daikin to apply schedules to your device"}),e.jsx(C,{variant:"contained",color:"primary",onClick:w,disabled:o.isPending,sx:{mb:2},children:o.isPending?"Generating...":"Generate Schedule"}),o.isError&&e.jsxs(I,{severity:"error",sx:{mb:2},children:["Failed to generate schedule: ",o.error.message]}),o.data&&e.jsxs(m,{children:[e.jsx(Se,{schedulePayload:o.data.schedulePayload}),e.jsx(dt,{}),o.data.message&&e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:2},children:o.data.message})]})]}),e.jsxs(b,{sx:{p:3},children:[e.jsx(a,{variant:"h5",gutterBottom:!0,children:"Manual Comfort Run"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Schedule an immediate comfort run (e.g., for filling a hot tub). Select a time within the next 48 hours."}),e.jsxs(A,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"flex-end",children:[e.jsx(N,{type:"datetime-local",label:"Comfort Time",value:z,onChange:x=>O(x.target.value),InputLabelProps:{shrink:!0},inputProps:{min:D(new Date),max:D(new Date(Date.now()+48*60*60*1e3))},fullWidth:!0}),e.jsx(C,{variant:"contained",onClick:h,disabled:!r||!z||T.isPending,sx:{whiteSpace:"nowrap",minWidth:160},children:T.isPending?"Scheduling...":"Schedule & Apply"})]}),!r&&e.jsx(I,{severity:"warning",sx:{mt:2},children:"Authorize with Daikin before scheduling a manual comfort run."})]}),S&&c&&e.jsxs(b,{sx:{p:3},children:[e.jsx(a,{variant:"h5",gutterBottom:!0,children:"Flexible Scheduling Status"}),e.jsxs(A,{spacing:2,children:[e.jsxs(m,{children:[e.jsx(a,{variant:"subtitle1",fontWeight:"bold",children:"Eco (Daily DHW)"}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:["Last run: ",c.LastEcoRunUtc?new Date(c.LastEcoRunUtc).toLocaleString():"Never (waiting for first interval)"]}),c.EcoWindow.Start&&c.EcoWindow.End&&e.jsxs(a,{variant:"body2",color:"text.secondary",children:["Next window: ",new Date(c.EcoWindow.Start).toLocaleString()," – ",new Date(c.EcoWindow.End).toLocaleString()]})]}),e.jsx(se,{}),e.jsxs(m,{children:[e.jsx(a,{variant:"subtitle1",fontWeight:"bold",children:"Comfort (Legionella)"}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:["Last run: ",c.LastComfortRunUtc?new Date(c.LastComfortRunUtc).toLocaleString():"Never (waiting for first interval)"]}),c.NextScheduledComfortUtc&&e.jsxs(a,{variant:"body2",color:"primary.main",children:["Next scheduled: ",new Date(c.NextScheduledComfortUtc).toLocaleString()]}),c.ComfortWindow.Start&&c.ComfortWindow.End&&e.jsxs(e.Fragment,{children:[e.jsxs(a,{variant:"body2",color:"text.secondary",children:["Window: ",new Date(c.ComfortWindow.Start).toLocaleString()," – ",new Date(c.ComfortWindow.End).toLocaleString()]}),c.ComfortWindow.Progress!==null&&e.jsxs(m,{sx:{mt:1},children:[e.jsxs(a,{variant:"caption",color:"text.secondary",children:["Window progress: ",(c.ComfortWindow.Progress*100).toFixed(0),"%"]}),e.jsx(m,{sx:{mt:.5,height:8,borderRadius:4,bgcolor:"grey.200",overflow:"hidden"},children:e.jsx(m,{sx:{height:"100%",width:`${(c.ComfortWindow.Progress??0)*100}%`,bgcolor:(c.ComfortWindow.Progress??0)>.9?"warning.main":"primary.main",borderRadius:4,transition:"width 0.3s ease"}})})]})]})]})]})]}),e.jsxs(b,{sx:{p:3},children:[e.jsx(a,{variant:"h5",gutterBottom:!0,children:"Apply Schedule to Daikin"}),e.jsxs(A,{spacing:2,children:[e.jsx(N,{label:"Gateway Device ID",value:f.gateway,onChange:x=>P({...f,gateway:x.target.value}),placeholder:"Enter gateway device ID",fullWidth:!0,disabled:!r}),e.jsx(N,{label:"Embedded ID",value:f.embedded,onChange:x=>P({...f,embedded:x.target.value}),placeholder:"Enter embedded ID",fullWidth:!0,disabled:!r}),e.jsxs(A,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(C,{variant:"contained",onClick:Q,disabled:!r||!((M=o.data)!=null&&M.schedulePayload)||H.isPending,children:H.isPending?"Applying...":"Apply Schedule"}),e.jsx(C,{variant:"outlined",onClick:W,disabled:!r||i.isPending,children:i.isPending?"Retrieving...":"Retrieve Current Schedule"})]})]}),!!i.data&&e.jsxs(m,{sx:{mt:3},children:[e.jsx(a,{variant:"h6",gutterBottom:!0,children:"Current Schedule"}),e.jsx(xt,{data:i.data})]})]}),e.jsxs(b,{sx:{p:3},children:[e.jsx(a,{variant:"h5",gutterBottom:!0,children:"Schedule History"}),e.jsx(ht,{})]}),e.jsx(we,{open:g,title:"Apply Schedule",message:"Are you sure you want to apply this schedule to your Daikin device? This will replace the current schedule.",confirmText:"Apply",cancelText:"Cancel",onConfirm:n,onCancel:()=>j(!1)}),e.jsx(ie,{open:d.open,autoHideDuration:6e3,onClose:()=>u({...d,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:e.jsx(I,{onClose:()=>u({...d,open:!1}),severity:d.severity,sx:{width:"100%"},children:d.message})})]})}function vt(){const r=U(),t=$({queryKey:["user","zone"],queryFn:async()=>(await p.getZone()).zone,staleTime:5*60*1e3}),s=E({mutationFn:l=>p.setZone(l),onSuccess:()=>{r.invalidateQueries({queryKey:["user","zone"]}),r.invalidateQueries({queryKey:["prices","timeseries"]}),r.invalidateQueries({queryKey:["schedule","preview"]})}});return{zone:t.data,isLoading:t.isLoading,error:t.error,setZone:s.mutateAsync,isUpdating:s.isPending}}function bt(){return e.jsxs(A,{spacing:3,children:[e.jsxs(b,{sx:{p:3},children:[e.jsx(K,{variant:"text",width:"40%",height:40}),e.jsx(K,{variant:"rectangular",height:200,sx:{mt:2}})]}),e.jsxs(b,{sx:{p:3},children:[e.jsx(K,{variant:"text",width:"30%",height:40}),e.jsx(K,{variant:"rectangular",height:150,sx:{mt:2}})]}),e.jsxs(b,{sx:{p:3},children:[e.jsx(K,{variant:"text",width:"50%",height:40}),e.jsx(K,{variant:"rectangular",height:100,sx:{mt:2}})]})]})}const St=["SE1","SE2","SE3","SE4","NO1","NO2","NO3","NO4","NO5","DK1","DK2","FI"];function wt(){const{settings:r,isLoading:t,error:s,updateSettings:l,isUpdating:o}=Ce(),{zone:d,setZone:u,isUpdating:g}=vt(),{isAuthorized:j,refresh:f,revoke:P,isRefreshing:H}=oe(),[i,y]=k.useState({comfortHours:3,turnOffPercentile:.9,maxComfortGapHours:1,autoApplySchedule:!1,selectedZone:"SE3",schedulingMode:"Classic",ecoIntervalHours:24,ecoFlexibilityHours:12,comfortIntervalDays:21,comfortFlexibilityDays:7,comfortEarlyPercentile:.1}),[S,c]=k.useState({open:!1,message:"",severity:"success"}),[T,D]=k.useState(!1);k.useEffect(()=>{r&&y(h=>({...h,comfortHours:r.ComfortHours??3,turnOffPercentile:r.TurnOffPercentile??.9,maxComfortGapHours:r.MaxComfortGapHours??1,autoApplySchedule:r.AutoApplySchedule??!1,schedulingMode:r.SchedulingMode??"Classic",ecoIntervalHours:r.EcoIntervalHours??24,ecoFlexibilityHours:r.EcoFlexibilityHours??12,comfortIntervalDays:r.ComfortIntervalDays??21,comfortFlexibilityDays:r.ComfortFlexibilityDays??7,comfortEarlyPercentile:r.ComfortEarlyPercentile??.1}))},[r]),k.useEffect(()=>{d&&y(h=>({...h,selectedZone:d}))},[d]);const z=async()=>{try{await l({ComfortHours:i.comfortHours,TurnOffPercentile:i.turnOffPercentile,MaxComfortGapHours:i.maxComfortGapHours,AutoApplySchedule:i.autoApplySchedule,SchedulingMode:i.schedulingMode,EcoIntervalHours:i.ecoIntervalHours,EcoFlexibilityHours:i.ecoFlexibilityHours,ComfortIntervalDays:i.comfortIntervalDays,ComfortFlexibilityDays:i.comfortFlexibilityDays,ComfortEarlyPercentile:i.comfortEarlyPercentile}),i.selectedZone!==d&&await u(i.selectedZone),c({open:!0,message:"Settings saved successfully",severity:"success"})}catch(h){c({open:!0,message:`Failed to save settings: ${h}`,severity:"error"})}},O=async()=>{D(!1);try{await P(),c({open:!0,message:"Daikin authentication revoked",severity:"info"})}catch(h){c({open:!0,message:`Failed to revoke: ${h}`,severity:"error"})}};return t?e.jsx(q,{maxWidth:"md",sx:{py:4},children:e.jsx(bt,{})}):s?e.jsx(q,{maxWidth:"md",sx:{py:4},children:e.jsxs(I,{severity:"error",children:["Failed to load settings: ",s.message]})}):e.jsxs(q,{maxWidth:"md",sx:{py:4},children:[e.jsx(a,{variant:"h4",gutterBottom:!0,sx:{fontSize:{xs:"1.5rem",md:"2rem"}},children:"Settings"}),e.jsxs(A,{spacing:3,children:[e.jsxs(b,{sx:{p:3},children:[e.jsx(a,{variant:"h6",gutterBottom:!0,children:"Schedule Configuration"}),e.jsxs(A,{spacing:3,children:[e.jsxs(m,{children:[e.jsxs(a,{gutterBottom:!0,children:["Comfort Hours: ",i.comfortHours]}),e.jsx(B,{value:i.comfortHours,onChange:(h,w)=>y({...i,comfortHours:w}),min:1,max:12,step:1,marks:!0,valueLabelDisplay:"auto"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Number of hours per day to heat water to comfort temperature"})]}),e.jsxs(m,{children:[e.jsxs(a,{gutterBottom:!0,children:["Turn Off Percentile: ",(i.turnOffPercentile*100).toFixed(0),"%"]}),e.jsx(B,{value:i.turnOffPercentile,onChange:(h,w)=>y({...i,turnOffPercentile:w}),min:.5,max:.99,step:.01,marks:[{value:.5,label:"50%"},{value:.75,label:"75%"},{value:.99,label:"99%"}],valueLabelDisplay:"auto",valueLabelFormat:h=>`${(h*100).toFixed(0)}%`}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Price threshold for turning off DHW heating (higher = less turn-off)"})]}),e.jsx(N,{label:"Max Comfort Gap (hours)",type:"number",value:i.maxComfortGapHours,onChange:h=>y({...i,maxComfortGapHours:parseInt(h.target.value)||1}),inputProps:{min:1,max:72,step:1},helperText:"Maximum gap between consecutive comfort hours (1-72)"}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(ce,{children:"Nordpool Zone"}),e.jsx(de,{value:i.selectedZone,onChange:h=>y({...i,selectedZone:h.target.value}),label:"Nordpool Zone",children:St.map(h=>e.jsx(te,{value:h,children:h},h))})]})]})]}),e.jsxs(b,{sx:{p:3},children:[e.jsx(a,{variant:"h6",gutterBottom:!0,children:"Scheduling Mode"}),e.jsxs(A,{spacing:2,children:[e.jsxs(le,{fullWidth:!0,children:[e.jsx(ce,{children:"Mode"}),e.jsxs(de,{value:i.schedulingMode,onChange:h=>y({...i,schedulingMode:h.target.value}),label:"Mode",children:[e.jsx(te,{value:"Classic",children:"Classic (Fixed daily schedule)"}),e.jsx(te,{value:"Flexible",children:"Flexible (Interval-based with price optimization)"})]})]}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Classic mode generates a fixed daily schedule. Flexible mode schedules eco and comfort runs at optimal prices within configurable intervals."})]})]}),i.schedulingMode==="Flexible"&&e.jsxs(b,{sx:{p:3},children:[e.jsx(a,{variant:"h6",gutterBottom:!0,children:"Flexible Schedule Settings"}),e.jsxs(A,{spacing:3,children:[e.jsx(a,{variant:"subtitle1",fontWeight:"bold",children:"Eco (Daily DHW ~45°C)"}),e.jsxs(m,{children:[e.jsxs(a,{gutterBottom:!0,children:["Eco Interval: ",i.ecoIntervalHours," hours"]}),e.jsx(B,{value:i.ecoIntervalHours,onChange:(h,w)=>y({...i,ecoIntervalHours:w}),min:6,max:36,step:1,marks:[{value:6,label:"6h"},{value:12,label:"12h"},{value:24,label:"24h"},{value:36,label:"36h"}],valueLabelDisplay:"auto"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"How often eco heating should run (target interval)"})]}),e.jsxs(m,{children:[e.jsxs(a,{gutterBottom:!0,children:["Eco Flexibility: ±",i.ecoFlexibilityHours," hours"]}),e.jsx(B,{value:i.ecoFlexibilityHours,onChange:(h,w)=>y({...i,ecoFlexibilityHours:w}),min:1,max:18,step:1,marks:[{value:1,label:"±1h"},{value:6,label:"±6h"},{value:12,label:"±12h"},{value:18,label:"±18h"}],valueLabelDisplay:"auto"}),e.jsxs(a,{variant:"caption",color:"text.secondary",children:["Scheduling window: eco runs between ",Math.max(0,i.ecoIntervalHours-i.ecoFlexibilityHours),"h and ",i.ecoIntervalHours+i.ecoFlexibilityHours,"h after last run"]})]}),e.jsx(se,{}),e.jsx(a,{variant:"subtitle1",fontWeight:"bold",children:"Comfort (Legionella ~60°C)"}),e.jsxs(m,{children:[e.jsxs(a,{gutterBottom:!0,children:["Comfort Interval: ",i.comfortIntervalDays," days"]}),e.jsx(B,{value:i.comfortIntervalDays,onChange:(h,w)=>y({...i,comfortIntervalDays:w}),min:7,max:90,step:1,marks:[{value:7,label:"7d"},{value:21,label:"21d"},{value:30,label:"30d"},{value:60,label:"60d"},{value:90,label:"90d"}],valueLabelDisplay:"auto"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"How often comfort (legionella) heating should run"})]}),e.jsxs(m,{children:[e.jsxs(a,{gutterBottom:!0,children:["Comfort Flexibility: ±",i.comfortFlexibilityDays," days"]}),e.jsx(B,{value:i.comfortFlexibilityDays,onChange:(h,w)=>y({...i,comfortFlexibilityDays:w}),min:1,max:30,step:1,marks:[{value:1,label:"±1d"},{value:7,label:"±7d"},{value:14,label:"±14d"},{value:30,label:"±30d"}],valueLabelDisplay:"auto"}),e.jsxs(a,{variant:"caption",color:"text.secondary",children:["Scheduling window: comfort runs between ",Math.max(0,i.comfortIntervalDays-i.comfortFlexibilityDays),"d and ",i.comfortIntervalDays+i.comfortFlexibilityDays,"d after last run"]})]}),e.jsxs(m,{children:[e.jsxs(a,{gutterBottom:!0,children:["Early Comfort Threshold: ",(i.comfortEarlyPercentile*100).toFixed(0),"th percentile"]}),e.jsx(B,{value:i.comfortEarlyPercentile,onChange:(h,w)=>y({...i,comfortEarlyPercentile:w}),min:.01,max:.5,step:.01,marks:[{value:.05,label:"5%"},{value:.1,label:"10%"},{value:.25,label:"25%"},{value:.5,label:"50%"}],valueLabelDisplay:"auto",valueLabelFormat:h=>`${(h*100).toFixed(0)}%`}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"When the comfort window opens, only trigger if the price is below this historical percentile. The threshold relaxes as the window progresses."})]})]})]}),e.jsxs(b,{sx:{p:3},children:[e.jsx(a,{variant:"h6",gutterBottom:!0,children:"Automation"}),e.jsx(Ne,{control:e.jsx(ne,{checked:i.autoApplySchedule,onChange:h=>y({...i,autoApplySchedule:h.target.checked})}),label:"Auto-apply schedule daily"}),e.jsx(a,{variant:"caption",color:"text.secondary",display:"block",children:"Automatically apply generated schedule to your Daikin device each day"})]}),e.jsx(C,{variant:"contained",size:"large",onClick:z,disabled:o||g,children:o||g?e.jsxs(e.Fragment,{children:[e.jsx(L,{size:20,sx:{mr:1}}),"Saving..."]}):"Save Settings"}),e.jsx(se,{}),e.jsxs(b,{sx:{p:3,border:"1px solid",borderColor:"error.main"},children:[e.jsx(a,{variant:"h6",color:"error",gutterBottom:!0,children:"Danger Zone"}),e.jsxs(A,{spacing:2,children:[e.jsxs(m,{children:[e.jsx(a,{variant:"body2",gutterBottom:!0,children:"Revoke Daikin authentication to disconnect your account."}),e.jsx(C,{variant:"outlined",color:"error",onClick:()=>D(!0),disabled:!j,children:"Revoke Daikin Access"})]}),e.jsxs(m,{children:[e.jsx(a,{variant:"body2",gutterBottom:!0,children:"Refresh authentication token (use if experiencing connectivity issues)."}),e.jsx(C,{variant:"outlined",onClick:()=>f(),disabled:!j||H,children:H?"Refreshing...":"Refresh Token"})]})]})]})]}),e.jsx(we,{open:T,title:"Revoke Daikin Access",message:"Are you sure you want to revoke access to your Daikin account? You will need to re-authorize to use schedule application features.",confirmText:"Revoke",cancelText:"Cancel",onConfirm:O,onCancel:()=>D(!1),isDestructive:!0}),e.jsx(ie,{open:S.open,autoHideDuration:6e3,onClose:()=>c({...S,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:e.jsx(I,{onClose:()=>c({...S,open:!1}),severity:S.severity,children:S.message})})]})}function Ct(){var h,w,Q;const r=U(),[t,s]=k.useState(""),[l,o]=k.useState(null),[d,u]=k.useState({open:!1,message:"",severity:"error"}),[g,j]=k.useState(new Set),[f,P]=k.useState(null),H=$({queryKey:["admin-status"],queryFn:()=>p.getAdminStatus()}),i=((h=H.data)==null?void 0:h.isAdmin)??!1,y=$({queryKey:["admin-users"],queryFn:()=>p.getAdminUsers(),enabled:i}),S=E({mutationFn:n=>p.adminLogin(n),onSuccess:()=>{o(null),s(""),r.invalidateQueries({queryKey:["admin-status"]})},onError:n=>{o(n.message||"Login failed")}}),c=E({mutationFn:n=>n.isAdmin?p.revokeAdmin(n.userId):p.grantAdmin(n.userId),onMutate:n=>{j(W=>new Set(W).add(`admin-${n.userId}`))},onSettled:(n,W,M)=>{M&&j(x=>{const F=new Set(x);return F.delete(`admin-${M.userId}`),F}),r.invalidateQueries({queryKey:["admin-users"]})},onError:n=>{u({open:!0,message:`Admin toggle failed: ${n.message}`,severity:"error"})}}),T=E({mutationFn:n=>n.hasHangfireAccess?p.revokeHangfire(n.userId):p.grantHangfire(n.userId),onMutate:n=>{j(W=>new Set(W).add(`hangfire-${n.userId}`))},onSettled:(n,W,M)=>{M&&j(x=>{const F=new Set(x);return F.delete(`hangfire-${M.userId}`),F}),r.invalidateQueries({queryKey:["admin-users"]})},onError:n=>{u({open:!0,message:`Hangfire toggle failed: ${n.message}`,severity:"error"})}}),D=E({mutationFn:n=>p.deleteUser(n),onSuccess:()=>{P(null),u({open:!0,message:"Användare borttagen",severity:"success"}),r.invalidateQueries({queryKey:["admin-users"]})},onError:n=>{u({open:!0,message:`Kunde inte ta bort: ${n.message}`,severity:"error"})}}),z=n=>{n.preventDefault(),t.trim()&&S.mutate(t)};if(H.isLoading)return e.jsx(q,{maxWidth:"lg",sx:{py:4,display:"flex",justifyContent:"center"},children:e.jsx(L,{})});if(!i)return e.jsx(q,{maxWidth:"sm",sx:{py:4},children:e.jsxs(b,{sx:{p:4},children:[e.jsx(a,{variant:"h4",gutterBottom:!0,children:"Admin"}),e.jsx("form",{onSubmit:z,children:e.jsxs(A,{spacing:2,children:[e.jsx(N,{label:"Lösenord",type:"password",fullWidth:!0,value:t,onChange:n=>s(n.target.value),autoFocus:!0}),l&&e.jsx(I,{severity:"error",children:l}),e.jsx(C,{type:"submit",variant:"contained",disabled:S.isPending||!t.trim(),startIcon:S.isPending?e.jsx(L,{size:18}):void 0,children:"Logga in"})]})})]})});const O=((w=y.data)==null?void 0:w.users)??[];return e.jsxs(q,{maxWidth:"lg",sx:{py:4},children:[e.jsx(a,{variant:"h4",gutterBottom:!0,sx:{fontSize:{xs:"1.5rem",md:"2rem"}},children:"Användare"}),y.isLoading&&e.jsx(m,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(L,{})}),y.error&&e.jsxs(I,{severity:"error",sx:{mb:2},children:["Kunde inte hämta användare: ",y.error.message]}),y.data&&e.jsx(Qe,{component:b,children:e.jsxs(Ge,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(re,{children:[e.jsx(v,{children:"Användare"}),e.jsx(v,{children:"Zon"}),e.jsx(v,{children:"Inställningar"}),e.jsx(v,{children:"Daikin"}),e.jsx(v,{children:"Daikin Subject"}),e.jsx(v,{children:"Schema"}),e.jsx(v,{children:"Admin"}),e.jsx(v,{children:"Hangfire"}),e.jsx(v,{children:"Skapad"}),e.jsx(v,{children:"Åtgärd"})]})}),e.jsxs(_e,{children:[O.map(n=>e.jsxs(re,{sx:n.isCurrentUser?{bgcolor:"action.selected"}:void 0,children:[e.jsx(v,{children:e.jsxs(A,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(R,{title:n.userId,children:e.jsx(a,{variant:"body2",sx:{fontFamily:"monospace",cursor:"pointer",userSelect:"all"},children:n.userId})}),n.isCurrentUser&&e.jsx(_,{label:"Du",color:"primary",size:"small"})]})}),e.jsx(v,{children:n.zone||"—"}),e.jsx(v,{children:e.jsxs(a,{variant:"body2",noWrap:!0,children:[n.settings.ComfortHours,"h, ",(n.settings.TurnOffPercentile*100).toFixed(0),"%"]})}),e.jsx(v,{children:n.daikinAuthorized?e.jsx(R,{title:n.daikinExpiresAtUtc?`Utgår: ${n.daikinExpiresAtUtc}`:"Auktoriserad",children:e.jsx(ge,{color:"success",fontSize:"small"})}):e.jsx(R,{title:"Ej auktoriserad",children:e.jsx(Je,{color:"error",fontSize:"small"})})}),e.jsx(v,{children:n.daikinSubject?e.jsx(R,{title:n.daikinSubject,children:e.jsx(a,{variant:"body2",sx:{fontFamily:"monospace",cursor:"pointer",userSelect:"all",maxWidth:120,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.daikinSubject})}):e.jsx(a,{variant:"body2",color:"text.secondary",children:"—"})}),e.jsx(v,{children:n.hasScheduleHistory?e.jsx(R,{title:n.lastScheduleDate?`Senast: ${n.lastScheduleDate}`:"",children:e.jsxs(a,{variant:"body2",children:[n.scheduleCount," st"]})}):"—"}),e.jsx(v,{children:g.has(`admin-${n.userId}`)?e.jsx(L,{size:20}):e.jsx(ne,{checked:n.isAdmin,disabled:n.isCurrentUser,onChange:()=>c.mutate(n),size:"small"})}),e.jsx(v,{children:g.has(`hangfire-${n.userId}`)?e.jsx(L,{size:20}):e.jsx(ne,{checked:n.hasHangfireAccess,onChange:()=>T.mutate(n),size:"small"})}),e.jsx(v,{children:n.createdAt?e.jsx(R,{title:`${new Date(n.createdAt).toISOString()}`,children:e.jsx(a,{variant:"body2",children:new Date(n.createdAt).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})}):e.jsx(a,{variant:"body2",children:"—"})}),e.jsx(v,{children:e.jsx(R,{title:n.isCurrentUser?"Kan inte ta bort dig själv":"Ta bort användare",children:e.jsx("span",{children:e.jsx(Xe,{size:"small",color:"error",disabled:n.isCurrentUser,onClick:()=>P(n),"aria-label":n.isCurrentUser?"Kan inte ta bort din egen användare":`Ta bort användare ${n.userId.slice(0,8)}`,children:e.jsx(ue,{fontSize:"small"})})})})})]},n.userId)),O.length===0&&e.jsx(re,{children:e.jsx(v,{colSpan:10,align:"center",children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"Inga användare"})})})]})]})}),e.jsxs(ye,{open:f!==null,onClose:()=>P(null),children:[e.jsx(pe,{children:"Ta bort användare"}),e.jsx(fe,{children:e.jsxs(je,{children:["Är du säker på att du vill ta bort användare"," ",e.jsxs("strong",{children:[(Q=f==null?void 0:f.userId)==null?void 0:Q.slice(0,8),"…"]}),"?"," ","All data (inställningar, tokens, schemahistorik) kommer att raderas permanent."]})}),e.jsxs(ve,{children:[e.jsx(C,{onClick:()=>P(null),children:"Avbryt"}),e.jsx(C,{onClick:()=>f&&D.mutate(f.userId),color:"error",variant:"contained",disabled:D.isPending,startIcon:D.isPending?e.jsx(L,{size:18}):e.jsx(ue,{}),children:"Ta bort"})]})]}),e.jsx(ie,{open:d.open,autoHideDuration:4e3,onClose:()=>u(n=>({...n,open:!1})),children:e.jsx(I,{severity:d.severity,onClose:()=>u(n=>({...n,open:!1})),children:d.message})})]})}class Dt extends k.Component{constructor(s){super(s);X(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0}),window.location.href="/"});this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,l){console.error("ErrorBoundary caught error:",s,l)}render(){var s;return this.state.hasError?e.jsx(q,{maxWidth:"sm",sx:{py:8},children:e.jsx(b,{sx:{p:4,textAlign:"center"},children:e.jsxs(A,{spacing:3,alignItems:"center",children:[e.jsx(Ye,{color:"error",sx:{fontSize:64}}),e.jsx(a,{variant:"h4",children:"Something went wrong"}),e.jsx(a,{variant:"body1",color:"text.secondary",children:((s=this.state.error)==null?void 0:s.message)||"An unexpected error occurred"}),e.jsx(C,{variant:"contained",onClick:this.handleReset,children:"Return to Dashboard"})]})})}):this.props.children}}const At=new Fe({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function kt(){return e.jsx(Dt,{children:e.jsx(Ie,{client:At,children:e.jsxs(Ve,{theme:rt,children:[e.jsx(et,{}),e.jsx(Pe,{children:e.jsx(nt,{children:e.jsxs(He,{children:[e.jsx(V,{path:"/",element:e.jsx(jt,{})}),e.jsx(V,{path:"/settings",element:e.jsx(wt,{})}),e.jsx(V,{path:"/admin",element:e.jsx(Ct,{})})]})})},"router")]})})})}ae.createRoot(document.getElementById("root")).render(e.jsx(Te.StrictMode,{children:e.jsx(kt,{})}));
//# sourceMappingURL=index-S6bMpthV.js.map
